webpackJsonp([43],{dOTO:function(e,t,n){"use strict";function o(e){return Object.prototype.toString.call(e).slice(8,-1)}const i=function(e){if(null===e||void 0===e)return;const t=o(e);if("Date"===t){let t=new Date;return t.setTime(e.getTime()),t}if("Object"===t){if(!0===function(e){let t=[];return function e(n){if(n&&"Object"===o(n)){if(-1!==t.indexOf(n))return!0;for(var i in t.push(n),n)if(!0===n.hasOwnProperty(i)&&e(n[i]))return!0}return!1}(e)}(e))return e;let t={};for(let n in e)t[n]=i(e[n]);return t}if("Array"===t){let t=[];for(var n=0;n<e.length;n++)t.push(i(e[n]));return t}return e};e.exports=i},nTLT:function(e,t){},"s/J3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=document.addEventListener?function(e,t,n){e&&t&&n&&e.addEventListener(t,n,!1)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)},i=document.removeEventListener?function(e,t,n){e&&t&&e.removeEventListener(t,n,!1)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)},r=(n("z0pV"),function(e,t){return!(Array.isArray(e[t])&&e[t].length>0)}),a=function(e,t,n){var o=n.props,i=["org-tree-node"],a=[],c=t[o.props.children];return r(t,o.props.children)?i.push("is-leaf"):o.collapsable&&!t[o.props.expand]&&i.push("collapsed"),a.push(s(e,t,n)),o.collapsable&&!t[o.props.expand]||a.push(l(e,c,n)),e("div",{domProps:{className:i.join(" ")}},a)},s=function(e,t,n){var o=n.props,i=t[o.props.label],a=o.nodeRender,s=n.listeners["on-node-click"],l=n.listeners["on-node-mousedown"],c=n.listeners["on-node-mouseup"],d=n.listeners["on-node-touchstart"],u=n.listeners["on-node-touchleave"],p=[];if("function"==typeof a){var h=a(e,t);h&&p.push(h)}else p.push(i);o.collapsable&&!r(t,o.props.children)&&p.push(function(e,t,n){var o=n.props,i=n.listeners["on-expand"],r=[];return t.level>2&&r.push("org-tree-node-btn"),t[o.props.expand]&&r.push("expanded"),e("span",{class:"org-tree-button-wrapper",on:{click:function(e){e.stopPropagation(),i&&i(t)}}},[o.buttonRender?o.buttonRender(e,t):e("span",{class:r.join(" ")})])}(e,t,n));var f=["org-tree-node-label-inner"],m=o.labelWidth,g=o.labelClassName;return"number"==typeof m&&(m+="px"),"function"==typeof g&&(g=g(t)),g&&f.push(g),e("div",{domProps:{className:"org-tree-node-label"},on:{click:function(e){return s&&s(e,t)},mousedown:function(e){return l&&l(e,t)},mouseup:function(e){return c&&c(e,t)},touchstart:function(e){return d&&d(e,t)},touchleave:function(e){return u&&u(e,t)}}},[e("div",{domProps:{className:f.join(" ")},style:{width:m}},p)])},l=function(e,t,n){if(Array.isArray(t)&&t.length){var o=t.map(function(t){return a(e,t,n)});return e("div",{domProps:{className:"org-tree-node-children"}},o)}return""},c=function(e,t){var n=t.props;return a(e,n.data,t)},d=n("dOTO"),u=n.n(d),p={name:"VOrgTree",components:{OrgTreeNode:{render:c,functional:!0}},props:{data:{type:Object,required:!0},props:{type:Object,default:function(){return{id:"id",label:"label",expand:"expand",children:"children"}}},horizontal:Boolean,collapsable:Boolean,nodeRender:Function,buttonRender:Function,labelWidth:[String,Number],labelClassName:[Function,String],expandAll:{type:Boolean,default:!1}},data:function(){return{flatData:{},dataCloned:{}}},watch:{data:{handler:function(e){var t=this;this._handleData(e),this._mapData(this.dataCloned,function(e){(t.flatData[e[t.prop_id]]||{}).expand&&t.$set(e,t.prop_expand,!0)})},deep:!0},expandAll:{handler:function(e){this._toggleExpand(this.dataCloned,e)},deep:!0}},computed:{prop_id:function(){return this.props.id},prop_label:function(){return this.props.label},prop_expand:function(){return this.props.expand},prop_children:function(){return this.props.children}},methods:{_handleData:function(e){this._cloneData(e)},_cloneData:function(e){this.dataCloned=u()(e)},_setFlatData:function(e){this.flatData[e[this.prop_id]]=e},_mapData:function(e,t){var n=this;t(e);var o=e[this.prop_children];o&&o.forEach(function(e){n._mapData(e,t)})},_updateExpandStatus:function(){this._mapData(this.dataCloned,this._setFlatData)},collapse:function(e){var t=this,n=this;e.forEach(function(e){e[t.prop_expand]&&(e[t.prop_expand]=!1);var o=e[t.prop_children];o&&n.collapse(o)})},handleExpand:function(e){if(this.prop_expand in e){e[this.prop_expand]=!e[this.prop_expand];var t=e[this.prop_children];!e[this.prop_expand]&&t&&this.collapse(t)}else this.$set(e,this.prop_expand,!0);this.$emit("on-expand",e,e[this.prop_expand]),this._updateExpandStatus()},_toggleExpand:function(e,t){var n=this,o=this;if(Array.isArray(e))e.forEach(function(e){3===e.level&&(t=!1),o.$set(e,n.prop_expand,t);var i=e[n.prop_children];i&&o._toggleExpand(i,t)});else{4===e.level&&(t=!t),o.$set(e,this.prop_expand,t);var i=e[this.prop_children];i&&o._toggleExpand(i,t)}},handleNodeClick:function(e,t){var n=this;this.$emit("on-node-click",e,t,function(){n.handleExpand(t)})},toggleExpand:function(){this._toggleExpand(this.dataCloned,this.expandAll),this._updateExpandStatus()}},mounted:function(){this._handleData(this.data),this._updateExpandStatus(),this._toggleExpand(this.dataCloned,this.expandAll)}},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"org-tree-container"},[n("div",{staticClass:"org-tree",class:{horizontal:e.horizontal,collapsable:e.collapsable}},[n("org-tree-node",e._b({attrs:{data:e.dataCloned,props:e.props,horizontal:e.horizontal,"label-width":e.labelWidth,collapsable:e.collapsable,"node-render":e.nodeRender,"button-render":e.buttonRender,"label-class-name":e.labelClassName},on:{"on-expand":e.handleExpand,"on-node-click":e.handleNodeClick}},"org-tree-node",e.$listeners,!1))],1)])},staticRenderFns:[]};var f={name:"OrgView",components:{VOrgTree:n("C7Lr")(p,h,!1,function(e){n("nTLT")},"data-v-a0e51e40",null).exports},props:{zoomHandled:{type:Number,default:1},data:Object},data:function(){return{currentContextMenuId:"",orgTreeOffsetLeft:0,orgTreeOffsetTop:0,initPageX:0,initPageY:0,oldMarginLeft:0,oldMarginTop:0,canMove:!1,isBtnClick:!1}},computed:{orgTreeStyle:function(){return{transform:"translate(0%, 0%) scale("+this.zoomHandled+", "+this.zoomHandled+")",marginLeft:this.orgTreeOffsetLeft+"px",marginTop:this.orgTreeOffsetTop+100+"px"}}},methods:{handleNodeClick:function(e,t,n){this.isBtnClick?this.isBtnClick=!1:this.$emit("on-node-click",e,t,n)},closeMenu:function(){this.currentContextMenuId=""},getBgColor:function(e){return this.currentContextMenuId===e.id?e.isRoot?"#0d7fe8":"#5d6c7b":""},buttonClick:function(e,t){this.$emit("on_button_click",{key:e,data:t}),this.isBtnClick=!0},nodeRender:function(e,t){return t.level<=3&&1!=t.level?e("div",{class:["custom-org-node",t.children&&t.children.length?"has-children-label":""],on:{mousedown:function(e){return e.stopPropagation()},contextmenu:this.contextmenu.bind(t)},style:"padding-left: 5px;padding-right: 5px;"},[e("el-tooltip",{class:"item",attrs:{effect:"dark",content:t.label,placement:"top"}},[e("p",{style:"padding-top:8px;font-size:20px;font-family:'Hiragino Sans GB';color:#6a6a6a;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"},[t.label])]),e("div",{class:"button-container",style:"padding-top:10px"},[e("el-button",{attrs:{circle:!0,size:"mini",type:"primary",icon:"iconfont iconminusround"},nativeOn:{click:this.buttonClick.bind(this,"delete",t)}}),e("el-button",{attrs:{size:"mini",circle:!0,type:"primary",icon:"iconfont iconplus-round"},nativeOn:{click:this.buttonClick.bind(this,"add",t)}}),e("el-button",{attrs:{circle:!0,size:"mini",type:"primary",icon:"el-icon-edit"},nativeOn:{click:this.buttonClick.bind(this,"edit",t)}})])]):t.level>3?e("div",{class:["custom-org-node",t.children&&t.children.length?"has-children-label":""],on:{mousedown:function(e){return e.stopPropagation()},contextmenu:this.contextmenu.bind(t)},style:"padding-left: 5px;padding-right: 5px;"},[e("el-tooltip",{class:"item",attrs:{effect:"dark",content:t.label,placement:"top"}},[e("p",{style:"padding-top:8px;font-size:20px;font-family:'Hiragino Sans GB';color:#6a6a6a;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"},[t.label])]),e("div",{class:"button-container",style:"padding-top:10px"},[e("el-button",{attrs:{circle:!0,size:"mini",type:"primary",icon:"iconfont iconminusround"},nativeOn:{click:this.buttonClick.bind(this,"delete",t)}}),e("el-button",{attrs:{circle:!0,size:"mini",type:"primary",icon:"el-icon-edit"},nativeOn:{click:this.buttonClick.bind(this,"edit",t)}})])]):1==t.level?e("div",{class:["custom-org-node",t.children&&t.children.length?"has-children-label":""],on:{mousedown:function(e){return e.stopPropagation()},contextmenu:this.contextmenu.bind(t)},style:"padding-left: 5px;padding-right: 5px;"},[e("el-tooltip",{class:"item",attrs:{effect:"dark",content:t.label,placement:"top"}},[e("p",{style:"padding-top:8px;font-size:20px;font-family:'Hiragino Sans GB';color:#6a6a6a;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"},[t.label])]),e("div",{class:"button-container",style:"padding-top:10px"},[e("el-button",{attrs:{size:"mini",circle:!0,type:"primary",icon:"iconfont iconplus-round"},nativeOn:{click:this.buttonClick.bind(this,"add",t)}}),e("el-button",{attrs:{circle:!0,size:"mini",type:"primary",icon:"el-icon-edit"},nativeOn:{click:this.buttonClick.bind(this,"edit",t)}})])]):void 0},contextmenu:function(e,t){var n=t||window.event;n.preventDefault?n.preventDefault():n.returnValue=!1,this.currentContextMenuId=e.id},setDepartmentData:function(e){e.isRoot=!0,this.departmentData=e},mousedownView:function(e){this.canMove=!0,this.initPageX=e.pageX,this.initPageY=e.pageY,this.oldMarginLeft=this.orgTreeOffsetLeft,this.oldMarginTop=this.orgTreeOffsetTop,o(document,"mousemove",this.mousemoveView),o(document,"mouseup",this.mouseupView)},mousemoveView:function(e){if(this.canMove){var t=e.pageX,n=e.pageY;this.orgTreeOffsetLeft=this.oldMarginLeft+t-this.initPageX,this.orgTreeOffsetTop=this.oldMarginTop+n-this.initPageY}},mouseupView:function(){this.canMove=!1,i(document,"mousemove",this.mousemoveView),i(document,"mouseup",this.mouseupView)},handleDropdownClick:function(e){e.stopPropagation()},handleDocumentContextmenu:function(){this.canMove=!1},handleContextMenuClick:function(e,t){this.$emit("on-menu-click",{data:e,key:t})}},created:function(){},mounted:function(){o(document,"mousedown",this.mousedownView),o(document,"contextmenu",this.handleDocumentContextmenu)},beforeDestroy:function(){i(document,"mousedown",this.mousedownView),i(document,"contextmenu",this.handleDocumentContextmenu)}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"dragWrapper",staticClass:"org-tree-drag-wrapper",on:{mousedown:e.mousedownView,contextmenu:e.handleDocumentContextmenu}},[n("div",{staticClass:"org-tree-wrapper",style:e.orgTreeStyle},[e.data?n("v-org-tree",{ref:"myOrgTree",attrs:{data:e.data,"node-render":e.nodeRender,"expand-all":!0,collapsable:"","label-width":"10"},on:{"on-node-click":e.handleNodeClick}}):e._e()],1)])},staticRenderFns:[]};var g=n("C7Lr")(f,m,!1,function(e){n("y75q")},null,null);t.default=g.exports},y75q:function(e,t){},z0pV:function(e,t,n){(function(e){function n(e,t){for(var n=0,o=e.length-1;o>=0;o--){var i=e[o];"."===i?e.splice(o,1):".."===i?(e.splice(o,1),n++):n&&(e.splice(o,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};function r(e,t){if(e.filter)return e.filter(t);for(var n=[],o=0;o<e.length;o++)t(e[o],o,e)&&n.push(e[o]);return n}t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,o="/"===a.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+t||"."},t.normalize=function(e){var o=t.isAbsolute(e),i="/"===a(e,-1);return(e=n(r(e.split("/"),function(e){return!!e}),!o).join("/"))||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function o(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=o(e.split("/")),r=o(n.split("/")),a=Math.min(i.length,r.length),s=a,l=0;l<a;l++)if(i[l]!==r[l]){s=l;break}var c=[];for(l=s;l<i.length;l++)c.push("..");return(c=c.concat(r.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),n=t[0],o=t[1];return n||o?(o&&(o=o.substr(0,o.length-1)),n+o):"."},t.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return i(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n("V0EG"))}});
//# sourceMappingURL=43.d3a86c6f9b87fed8c09a.js.map